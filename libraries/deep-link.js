var excludes_temp_dpl=[],content_deep_link={},content_deep_link_new={},KMSHome="/educate/reco/login/welcome.jsp?source=kms&ru=/",KmsIconUrl="https://plugins.niit-mts.com/reco/deep-link-plugin/images/KMSIcon.png",cid=$("#kmsdpl").attr("cid");(function(){var n,t="";this.goToKMSHome=function(){window.open(KMSHome,"_blank")},this.getDplData=function(){try{$(".cdd-dpl-para").deep_link({sourceURL:n,type:"deep_link",iconPath:KmsIconUrl,callback:function(){}})}catch(e){console.log("deep-link failed "+e.message)}},this.init=function(){e().exist?(n=e().data,content_deep_link_new.getDplData()):$.getJSON(content_deep_link_new.getPath()+"api//webapi?module=new_deep_link_data_dt&crs_id="+cid).then(function(e){i(n=e),content_deep_link_new.getDplData()})};var i=function(e){sessionStorage&&sessionStorage.setItem("gls_dp_data",JSON.stringify(e))};this.showKMSAssets=function(e,n){try{var t=content_deep_link_new.getPath()+"api/webapi?module=deep_link&crs_id="+cid+"&pg_id="+n;$("#add_new_deep_link").html(""),$.ajax({url:t,dataType:"json",success:function(e){$("#add_new_deep_link").remove(),$('<div id="add_new_deep_link"></div>').html(e.data).dialog({autoOpen:!1,modal:!0,width:"50%",top:"20%",left:"25%"}).dialog("open"),$(".ui-widget-overlay").appendTo("#pageDIV"),$(document).off("click").on("click","button#closebtn",function(e){$("#add_new_deep_link").dialog("close")}),$(".ui-dialog-titlebar").hide()},error:function(e,n,t){console.log("ajax call went wrong:"+e.responseText)}})}catch(e){console.log("deep-link failed "+e.message)}};var e=function(){return sessionStorage&&null!=sessionStorage.getItem("gls_dp_data")&&"undefined"!=sessionStorage.getItem("gls_dp_data")&&null!=sessionStorage.getItem("gls_dp_data")?{exist:!0,data:JSON.parse(sessionStorage.getItem("gls_dp_data"))}:{exist:!1}};this.setPath=function(e){t=e},this.newdpTab=function(e){window.open(e,"KMS")},this.getPath=function(){return t}}).apply(content_deep_link_new),window.addEventListener("load",function(){try{content_deep_link_new.setPath(env.getActiveEnv()),content_deep_link_new.init()}catch(e){console.log("deep-link loading failed "+e.message)}});